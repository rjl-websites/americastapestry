{{ $imageSide := .Side | default "left" }}
{{ $background := .Background | default "light" }}
{{ $flexDirection := cond (eq $imageSide "right") "md:flex-row-reverse" "md:flex-row" }}
{{ $imageMargin := cond (eq $imageSide "right") "md:ml-8" "md:mr-8" }}
{{ $colors := cond (eq $background "dark") "bg-slate-900 text-slate-200" "bg-slate-100 text-slate-700" }}

<section class="py-8 md:px-16 px-8 md:py-32 flex flex-col -mx-8 text-left md:-mx-32  {{ $flexDirection }} {{ $colors }}" id="{{ .ID }}">
  <div class="flex-shrink-0 flex justify-center {{ $imageMargin }} md:justify-start">
    
    <img
      class="object-cover w-40 h-40 md:w-72 md:h-72 drop-shadow-lg"
      src="{{ .ImageSrc }}"
      alt="{{ .ImageAlt }}"
    />
  </div>
  
  <div>
    <h2 class="my-8 font-serif text-2xl font-bold text-center md:mt-0 md:mb-8 md:text-left md:text-5xl">
      {{ .Title }}
    </h2>
    <p class="text-xl md:text-4xl">
      {{ .Content | safeHTML }}
    </p>
  </div>
</section>